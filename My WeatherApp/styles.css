:root{
  --bg:#071025;
  --card: rgba(255,255,255,0.03);
  --accent:#2ea3ff;
  --text:#e6eef7;
  --muted:#a7b6c5;
  --glass: rgba(255,255,255,0.03);
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  color:var(--text);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  background:linear-gradient(180deg,#071025 0%, #071a2b 60%);
  overflow-x:hidden;
}

/* BACKGROUND LAYER */
.weather-bg{
  position:fixed;inset:0;z-index:0;pointer-events:none;
  background:linear-gradient(180deg, rgba(7,16,37,0.95), rgba(7,26,43,0.9));
  transition: background 0.8s ease;
}

/* Weather-specific visuals */
.weather-bg.clear-day{ background: linear-gradient(180deg,#87CEFA 0%, #1E90FF 60%); }
.weather-bg.clear-night{ background: linear-gradient(180deg,#0b2540 0%, #071a2b 60%); }
.weather-bg.clouds{ background: linear-gradient(180deg,#cfd8dc 0%, #90a4ae 60%); filter:brightness(0.95); }
.weather-bg.rain{ background: linear-gradient(180deg,#4a6a8a 0%, #2b4d66 60%); }
.weather-bg.snow{ background: linear-gradient(180deg,#e6f0f7 0%, #cfeafc 60%); color:#072034; }
.weather-bg.thunder{ background: linear-gradient(180deg,#3a3f55 0%, #1b2438 60%); }
.weather-bg.mist{ background: linear-gradient(180deg,#cfd8dc 0%, #e8eef2 60%); filter:contrast(0.95) blur(0px); }

/* Decorative layers (sun, clouds, rain, snow, lightning) */
.weather-bg .sun, .weather-bg .clouds-layer, .weather-bg .rain, .weather-bg .snow, .weather-bg .bolt {
  position:absolute;pointer-events:none;
}
.weather-bg .sun{
  top:10%;right:8%;width:140px;height:140px;border-radius:50%;
  background:radial-gradient(circle at 30% 30%, #fff9b0, #ffd54a 40%, rgba(255,200,50,0.8) 60%, rgba(255,170,70,0.12) 100%);
  box-shadow:0 0 60px rgba(255,200,50,0.18);
  transform:translateY(-10px);
  animation: float 6s ease-in-out infinite;
}
@keyframes float{ 0%{transform:translateY(-6px)}50%{transform:translateY(6px)}100%{transform:translateY(-6px)}}

/* clouds */
.weather-bg .clouds-layer{
  top:6%;left:6%;width:520px;height:160px;background:
    radial-gradient(60px 40px at 20% 40%, rgba(255,255,255,0.85), rgba(255,255,255,0.6) 40%, rgba(255,255,255,0.0) 70%),
    radial-gradient(70px 50px at 40% 30%, rgba(255,255,255,0.85), rgba(255,255,255,0.6) 40%, rgba(255,255,255,0.0) 70%),
    radial-gradient(60px 40px at 60% 50%, rgba(255,255,255,0.85), rgba(255,255,255,0.6) 40%, rgba(255,255,255,0.0) 70%);
  filter:blur(6px);
  opacity:0.95;
  transform:translateX(-10px);
  animation: cloudsMove 30s linear infinite;
}
@keyframes cloudsMove{ from{transform:translateX(-30px)} to{transform:translateX(30px)} }

/* rain */
.weather-bg .rain{
  top:0;left:0;right:0;bottom:0;background-image:
    linear-gradient(transparent, rgba(255,255,255,0.02));
  overflow:hidden;
}
.weather-bg .rain i{ position:absolute;width:2px;height:16px;background:rgba(255,255,255,0.25);opacity:0.6; transform:skewX(-20deg); animation: fall 0.8s linear infinite;}
@keyframes fall{ 0%{transform:translateY(-120%) skewX(-20deg);opacity:0} 20%{opacity:0.4} 100%{transform:translateY(120%) skewX(-20deg);opacity:0.6} }

/* snow */
.weather-bg .snow{ top:0;left:0;right:0;bottom:0; }
.weather-bg .snow i{ position:absolute;width:8px;height:8px;background:rgba(255,255,255,0.9);border-radius:50%;opacity:0.9; animation: snowFall 6s linear infinite;}
@keyframes snowFall{ 0%{transform:translateY(-120%) rotate(0deg);opacity:0}50%{opacity:0.8}100%{transform:translateY(120%) rotate(360deg);opacity:0.9} }

/* bolt (lightning) */
.weather-bg .bolt{ top:6%;right:20%;width:120px;height:160px;opacity:0; animation: boltFlash 6s infinite; }
.weather-bg .bolt::before{
  content:'';position:absolute;left:46%;top:0;width:12px;height:100%;background:linear-gradient(#fffacd,#ffd54a);transform:skewX(-10deg);box-shadow:0 0 40px rgba(255,255,160,0.6);
}
@keyframes boltFlash{ 0%{opacity:0} 85%{opacity:0} 88%{opacity:1} 90%{opacity:0.9} 92%{opacity:0} 100%{opacity:0} }

/* App UI */
.app{position:relative;z-index:2;max-width:980px;margin:24px auto;padding:8px;}
header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:14px}
header h1{margin:0;font-size:1.2rem}
.controls{display:flex;gap:8px;align-items:center}
.controls input{padding:8px 10px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:var(--glass);color:var(--text);min-width:220px}
.controls button{background:var(--accent);border:none;color:#042032;padding:8px 10px;border-radius:8px;cursor:pointer}
.controls button[title]{background:#0b7bd6}
.controls select{padding:8px;border-radius:8px;background:var(--glass);border:1px solid rgba(255,255,255,0.04);color:var(--text)}

main{display:grid;grid-template-columns:1fr;gap:12px}
.card{background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.015));border-radius:12px;padding:14px;box-shadow:0 6px 18px rgba(0,0,0,0.45);backdrop-filter: blur(2px);}
.dashboard{display:flex;justify-content:space-between;gap:12px;align-items:center}
.dashboard .left{flex:1}
.dashboard .right{width:240px;display:flex;flex-direction:column;gap:12px;align-items:flex-end}

.place-time h2{margin:0}
.muted{color:var(--muted);font-size:0.9rem}

/* Ensure temperature is clearly visible */
.temp{font-size:2.6rem;font-weight:700;color:var(--text);line-height:1}
.temps{display:flex;flex-direction:column;gap:4px}
.current-big{display:flex;align-items:center;gap:14px;margin-top:10px}
.icon{width:120px;height:120px;border-radius:12px;background:rgba(255,255,255,0.03);display:flex;align-items:center;justify-content:center;font-weight:700}
.desc{font-weight:600;color:var(--text)}

.details-row{display:flex;gap:16px;margin-top:10px;flex-wrap:wrap}

.notif-controls{display:flex;flex-direction:column;align-items:flex-end;gap:8px}
.notif-options{display:flex;gap:8px;font-size:0.9rem;color:var(--muted)}

.mini-forecast{display:flex;gap:12px;align-items:center}
.mini-item{background:rgba(255,255,255,0.02);padding:8px;border-radius:10px;text-align:center;min-width:64px}

.list{display:flex;gap:8px;overflow:auto;padding:8px 0}
.hourItem,.dayItem{min-width:90px;background:rgba(255,255,255,0.02);padding:8px;border-radius:10px;text-align:center}

footer{margin-top:12px;text-align:center;font-size:0.85rem;color:var(--muted)}

@media (max-width:850px){
  .dashboard{flex-direction:column;align-items:flex-start}
  .dashboard .right{width:100%;align-items:flex-start}
  .current-big{flex-direction:row}
}